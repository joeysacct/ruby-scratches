class CodeHelpers
  Alphabet = 'abcdefghijklmnopqrstuvwxyz'
  Frequencies = [8.17,1.49,2.78,4.25,12.70,2.23,2.02,6.09,6.97,0.15,0.77,4.03,2.41,6.75,7.51,1.93,0.10,5.99,6.33,9.06,2.76,0.98,2.36,0.15,1.97,0.07]
  Freq_hash = {'a'=>8.17,'b'=>1.49,'c'=>2.78,'d'=>4.25,'e'=>12.70,'f'=>2.23,'g'=>2.02,'h'=>6.09,'i'=>6.97,'j'=>0.15,'k'=>0.77,'l'=>4.03,'m'=>2.41,'n'=>6.75,'o'=>7.51,'p'=>1.93,'q'=>0.10,'r'=>5.99,'s'=>6.33,'t'=>9.06,'u'=>2.76,'v'=>0.98,'w'=>2.36,'x'=>0.15,'y'=>1.97,'z'=>0.07}
  Freq_order = 'etaoinsrhldcumfpgwybvkxjqz'
  def self.a1z26(str)
    out = []
    if str.is_a?(String)
      iterable = str.chars
    elsif str.is_a?(Array)
      iterable = str
    else
      raise "invalid input format. provide a string or array."
    end
    return iterable.map{|chr| chr.ord-96}.select{|n| n>=1 && n<=26 }
  end

  def self.numtoletter(arr)
    raise "invalid input type. provide an array" unless arr.is_a?(Array)
    return arr.map {|n| (n+96).chr}
  end

  def self.string_sanitize(str, chars_to_remove=%Q{ "',.?!:()[]|})
    s = str
    chars_to_remove.chars.each { |chr| #remove each character from string
      s = s.gsub(chr,"")
    }
    return s
  end

  def self.byte_str_to_num(byte)
    return byte.reverse.chars.map.with_index do |d,idx|
        d.to_i * 2 ** idx
    end.sum
  end

  def self.shitmorsetonumbers(ciphertext,swap=false)
    c1 = swap ? '1' : '0'
    c2 = swap ? '0' : '1'
    ciphertext.gsub('.',c1).gsub('-',c2).split(" ").map{|b| b.to_i(2)}
  end

  def self.zigzag(rails, size,reverse=false)
    pattern = (0..rails-1).to_a + (1..rails-2).to_a.reverse
    if reverse
      pattern.cycle.first(size).map{|n| rails-n+1 }.zip(0..size)
    else
      pattern.cycle.first(size).zip(0..size)
    end
  end

  def self.rf_decrypt(cipher, rails,reverse=false)
    zigzag(rails, cipher.length,reverse).
      sort.
      zip(cipher.chars).
      sort_by{ |c| c[0][1] }.
      map{ |c| c[1] }.join
  end

  def self.rf_encode(plaintext, rails,reverse=false) 
    zigzag(rails, plaintext.length,reverse).
      zip(plaintext.chars). 
      sort.
      map { |a| a[1] }.join
  end

  def self.cycle_str(str,n)
    return str if n == 0
    shift = n % str.length
    str[shift..-1] + str[0..shift-1]
  end

  def self.score_deviation(str) #higher is better
    str = str.downcase
    letter_freqs = Hash.new(0)
    letters = 0 #effective length of string w/o other chars

    score = 0
    smoothing = 1e-6 #avoid log 0 bs

    str.each_char do |chr|
      prob = Freq_hash[chr]/100 || smoothing
      score += prob
    end

    score
  end

  def self.decrypt_monoalpha(ciphertext, key)
    alphabet = ('a'..'z').to_a

    plaintext = []
    ciphertext.each_char do |chr|
      plaintext << key[alphabet.index(chr)]
    end
    plaintext.join
  end

  def self.score_bigram_deviation(text)
    text = text.downcase[0,20]
    return 0 if text.length < 2

    score = 1e6
    (0..text.length-2).each do |i|
      bigram = text[i, 2]
      prob = [BigramFreqs[bigram],1/676].min
      score = score * prob.to_f * 676
    end

    score
  end

  def self.build_digram_matrix(text)
    alphabet_length = Alphabet.length
    digram_matrix = Array.new(alphabet_length) { Array.new(alphabet_length) }
    text = text.downcase

    digrams = 0
    for i in (0..text.length-1) do
      char1 = text[i]
      char2 = text[i+1]
      next unless char2.in?(Alphabet) && char2.in?(Alphabet)
      a = Freq_order.index(char1)
      b = Freq_order.index(char2)

      digram_matrix[a,b] += 1
      digrams += 1
    end

    #normalize based on num digrams
    for i in (0..alphabet_length-1) do
      for j in (0..alphabet_length-1) do
        digram_matrix[i,j] = 100 * digram_matrix[i,j] / digrams
      end
    end

    return digram_matrix
  end

  BigramFreqs = {
    'th'=>0.035562,
    'he'=>0.0307474,
    'in'=>0.0243275,
    'er'=>0.0204826,
    'an'=>0.0198515,
    're'=>0.0185432,
    'on'=>0.0175805,
    'at'=>0.0148673,
    'en'=>0.0145425,
    'nd'=>0.0135228,
    'ti'=>0.0134258,
    'es'=>0.0133939,
    'or'=>0.0127654,
    'te'=>0.0120487,
    'of'=>0.0117498,
    'ed'=>0.0116812,
    'is'=>0.0112843,
    'it'=>0.0112327,
    'al'=>0.0108745,
    'ar'=>0.010749,
    'st'=>0.0105348,
    'to'=>0.0104127,
    'nt'=>0.0104125,
    'ng'=>0.0095301,
    'se'=>0.0093211,
    'ha'=>0.0092576,
    'as'=>0.008711,
    'ou'=>0.0087,
    'io'=>0.0083493,
    'le'=>0.0082925,
    've'=>0.0082528,
    'co'=>0.0079386,
    'me'=>0.0079301,
    'de'=>0.0076482,
    'hi'=>0.0076324,
    'ri'=>0.0072762,
    'ro'=>0.0072672,
    'ic'=>0.0069871,
    'ne'=>0.0069172,
    'ea'=>0.0068817,
    'ra'=>0.0068563,
    'ce'=>0.0065142,
    'li'=>0.0062435,
    'ch'=>0.0059777,
    'll'=>0.0057657,
    'be'=>0.0057628,
    'ma'=>0.0056527,
    'si'=>0.0055006,
    'om'=>0.0054626,
    'ur'=>0.0054275,
    'ca'=>0.0053816,
    'el'=>0.005303,
    'ta'=>0.0052989,
    'la'=>0.0052753,
    'ns'=>0.0050894,
    'di'=>0.0049297,
    'fo'=>0.0048775,
    'ho'=>0.004849,
    'pe'=>0.0047799,
    'ec'=>0.0047728,
    'pr'=>0.0047447,
    'no'=>0.0046457,
    'ct'=>0.0046097,
    'us'=>0.0045426,
    'ac'=>0.0044777,
    'ot'=>0.004421,
    'il'=>0.0043153,
    'tr'=>0.0042582,
    'ly'=>0.0042501,
    'nc'=>0.0041575,
    'et'=>0.0041261,
    'ut'=>0.0040515,
    'ss'=>0.0040508,
    'so'=>0.0039773,
    'rs'=>0.0039653,
    'un'=>0.0039441,
    'lo'=>0.0038688,
    'wa'=>0.0038534,
    'ge'=>0.0038519,
    'ie'=>0.0038465,
    'wh'=>0.0037879,
    'ee'=>0.0037761,
    'wi'=>0.0037442,
    'em'=>0.0037366,
    'ad'=>0.0036796,
    'ol'=>0.0036549,
    'rt'=>0.0036168,
    'po'=>0.0036137,
    'we'=>0.003609,
    'na'=>0.0034723,
    'ul'=>0.0034583,
    'ni'=>0.0033921,
    'ts'=>0.0033749,
    'mo'=>0.0033688,
    'ow'=>0.0033048,
    'pa'=>0.0032357,
    'im'=>0.0031776,
    'mi'=>0.0031769,
    'ai'=>0.0031645,
    'sh'=>0.0031524,
    'ir'=>0.0031517,
    'su'=>0.0031118,
    'id'=>0.002955,
    'os'=>0.0028997,
    'iv'=>0.0028785,
    'ia'=>0.0028628,
    'am'=>0.0028487,
    'fi'=>0.0028459,
    'ci'=>0.0028148,
    'vi'=>0.0026954,
    'pl'=>0.0026299,
    'ig'=>0.0025496,
    'tu'=>0.0025491,
    'ev'=>0.0025478,
    'ld'=>0.0025261,
    'ry'=>0.0024774,
    'mp'=>0.0023918,
    'fe'=>0.0023657,
    'bl'=>0.002334,
    'ab'=>0.0022979,
    'gh'=>0.002275,
    'ty'=>0.0022728,
    'op'=>0.0022391,
    'wo'=>0.0022175,
    'sa'=>0.0021802,
    'ay'=>0.0021736,
    'ex'=>0.0021404,
    'ke'=>0.0021377,
    'fr'=>0.0021319,
    'oo'=>0.0021026,
    'av'=>0.0020493,
    'ag'=>0.0020472,
    'if'=>0.0020326,
    'ap'=>0.0020285,
    'gr'=>0.0019678,
    'od'=>0.0019545,
    'bo'=>0.0019541,
    'sp'=>0.0019125,
    'rd'=>0.0018932,
    'do'=>0.0018823,
    'uc'=>0.0018765,
    'bu'=>0.0018494,
    'ei'=>0.0018335,
    'ov'=>0.0017809,
    'by'=>0.0017647,
    'rm'=>0.0017513,
    'ep'=>0.0017157,
    'tt'=>0.0017068,
    'oc'=>0.0016641,
    'fa'=>0.00164,
    'ef'=>0.0016273,
    'cu'=>0.0016261,
    'rn'=>0.0016036,
    'sc'=>0.0015475,
    'gi'=>0.0015164,
    'da'=>0.0015107,
    'yo'=>0.001499,
    'cr'=>0.0014946,
    'cl'=>0.0014901,
    'du'=>0.0014846,
    'ga'=>0.0014808,
    'qu'=>0.0014754,
    'ue'=>0.0014748,
    'ff'=>0.0014632,
    'ba'=>0.001462,
    'ey'=>0.0014375,
    'ls'=>0.0014151,
    'va'=>0.0013998,
    'um'=>0.0013838,
    'pp'=>0.0013655,
    'ua'=>0.0013633,
    'up'=>0.0013601,
    'lu'=>0.0013519,
    'go'=>0.0013213,
    'ht'=>0.0013019,
    'ru'=>0.0012833,
    'ug'=>0.0012791,
    'ds'=>0.0012626,
    'lt'=>0.0012364,
    'pi'=>0.0012309,
    'rc'=>0.0012139,
    'rr'=>0.0012074,
    'eg'=>0.0011954,
    'au'=>0.0011903,
    'ck'=>0.0011763,
    'ew'=>0.0011681,
    'mu'=>0.0011462,
    'br'=>0.0011156,
    'bi'=>0.001066,
    'pt'=>0.0010578,
    'ak'=>0.001047,
    'pu'=>0.0010454,
    'ui'=>0.0010115,
    'rg'=>0.0009977,
    'ib'=>0.000986,
    'tl'=>0.0009845,
    'ny'=>0.0009792,
    'ki'=>0.0009788,
    'rk'=>0.0009703,
    'ys'=>0.0009683,
    'ob'=>0.0009667,
    'mm'=>0.0009607,
    'fu'=>0.0009597,
    'ph'=>0.0009439,
    'og'=>0.0009402,
    'ms'=>0.0009283,
    'ye'=>0.0009267,
    'ud'=>0.000914,
    'mb'=>0.0009026,
    'ip'=>0.0008921,
    'ub'=>0.0008858,
    'oi'=>0.0008775,
    'rl'=>0.0008626,
    'gu'=>0.0008577,
    'dr'=>0.0008545,
    'hr'=>0.0008439,
    'cc'=>0.0008314,
    'tw'=>0.0008237,
    'ft'=>0.0008166,
    'wn'=>0.0007899,
    'nu'=>0.0007864,
    'af'=>0.0007421,
    'hu'=>0.0007369,
    'nn'=>0.0007276,
    'eo'=>0.000725,
    'vo'=>0.0007111,
    'rv'=>0.0006928,
    'nf'=>0.0006718,
    'xp'=>0.0006686,
    'gn'=>0.0006564,
    'sm'=>0.000652,
    'fl'=>0.000649,
    'iz'=>0.0006434,
    'ok'=>0.0006431,
    'nl'=>0.0006378,
    'my'=>0.0006219,
    'gl'=>0.0006064,
    'aw'=>0.0005992,
    'ju'=>0.000587,
    'oa'=>0.0005749,
    'eq'=>0.0005725,
    'sy'=>0.0005684,
    'sl'=>0.0005588,
    'ps'=>0.0005457,
    'jo'=>0.0005379,
    'lf'=>0.0005348,
    'nv'=>0.0005201,
    'je'=>0.0005189,
    'nk'=>0.0005161,
    'kn'=>0.0005144,
    'gs'=>0.0005119,
    'dy'=>0.0005042,
    'hy'=>0.0005009,
    'ze'=>0.0004973,
    'ks'=>0.0004751,
    'xt'=>0.0004666,
    'bs'=>0.0004583,
    'ik'=>0.0004291,
    'dd'=>0.0004275,
    'cy'=>0.0004172,
    'rp'=>0.0004162,
    'sk'=>0.0003946,
    'xi'=>0.0003942,
    'oe'=>0.0003863,
    'oy'=>0.0003618,
    'ws'=>0.0003508,
    'lv'=>0.0003491,
    'dl'=>0.0003234,
    'rf'=>0.0003226,
    'eu'=>0.0003115,
    'dg'=>0.00031,
    'wr'=>0.0003076,
    'xa'=>0.000296,
    'yi'=>0.0002882,
    'nm'=>0.0002775,
    'eb'=>0.0002707,
    'rb'=>0.0002671,
    'tm'=>0.0002648,
    'xc'=>0.0002646,
    'eh'=>0.0002632,
    'tc'=>0.0002614,
    'gy'=>0.0002594,
    'ja'=>0.0002586,
    'hn'=>0.0002576,
    'yp'=>0.0002491,
    'za'=>0.000249,
    'gg'=>0.0002475,
    'ym'=>0.0002367,
    'sw'=>0.0002353,
    'bj'=>0.0002322,
    'lm'=>0.0002302,
    'cs'=>0.0002282,
    'ii'=>0.0002278,
    'ix'=>0.0002203,
    'xe'=>0.0002179,
    'oh'=>0.0002135,
    'lk'=>0.0001971,
    'dv'=>0.0001905,
    'lp'=>0.0001903,
    'ax'=>0.0001884,
    'ox'=>0.0001858,
    'uf'=>0.0001853,
    'dm'=>0.0001818,
    'iu'=>0.0001741,
    'sf'=>0.0001716,
    'bt'=>0.000171,
    'ka'=>0.0001696,
    'yt'=>0.0001668,
    'ek'=>0.0001647,
    'pm'=>0.0001596,
    'ya'=>0.0001577,
    'gt'=>0.000154,
    'wl'=>0.0001522,
    'rh'=>0.0001511,
    'yl'=>0.0001476,
    'hs'=>0.0001468,
    'ah'=>0.0001364,
    'yc'=>0.000135,
    'yn'=>0.0001321,
    'rw'=>0.0001276,
    'hm'=>0.0001274,
    'lw'=>0.0001264,
    'hl'=>0.0001259,
    'ae'=>0.000124,
    'zi'=>0.0001212,
    'az'=>0.0001187,
    'lc'=>0.0001182,
    'py'=>0.0001176,
    'aj'=>0.0001175,
    'iq'=>0.000113,
    'nj'=>0.0001109,
    'bb'=>0.0001093,
    'nh'=>0.0001088,
    'uo'=>0.0001066,
    'kl'=>0.0001057,
    'lr'=>0.0001005,
    'tn'=>0.0001001,
    'gm'=>0.0000986,
    'sn'=>0.0000917,
    'nr'=>0.0000915,
    'fy'=>0.000091,
    'mn'=>0.0000879,
    'dw'=>0.0000816,
    'sb'=>0.0000792,
    'yr'=>0.0000779,
    'dn'=>0.0000757,
    'sq'=>0.0000744,
    'zo'=>0.0000718,
    'oj'=>0.0000698,
    'yd'=>0.0000682,
    'lb'=>0.0000669,
    'wt'=>0.0000654,
    'lg'=>0.0000609,
    'ko'=>0.0000608,
    'np'=>0.0000604,
    'sr'=>0.0000599,
    'nq'=>0.0000595,
    'ky'=>0.0000595,
    'ln'=>0.0000587,
    'nw'=>0.000058,
    'tf'=>0.0000566,
    'fs'=>0.0000551,
    'cq'=>0.0000547,
    'dh'=>0.0000544,
    'sd'=>0.0000526,
    'vy'=>0.000049,
    'dj'=>0.0000478,
    'hw'=>0.0000477,
    'xu'=>0.0000477,
    'ao'=>0.0000463,
    'ml'=>0.0000461,
    'uk'=>0.000046,
    'uy'=>0.0000457,
    'ej'=>0.0000455,
    'ez'=>0.0000452,
    'hb'=>0.0000439,
    'nz'=>0.0000437,
    'nb'=>0.0000434,
    'mc'=>0.0000431,
    'yb'=>0.000043,
    'tp'=>0.0000429,
    'xh'=>0.0000417,
    'ux'=>0.0000393,
    'tz'=>0.0000385,
    'bv'=>0.0000384,
    'mf'=>0.0000382,
    'wd'=>0.0000354,
    'oz'=>0.0000347,
    'yw'=>0.0000337,
    'kh'=>0.0000319,
    'gd'=>0.0000316,
    'bm'=>0.0000313,
    'mr'=>0.0000311,
    'ku'=>0.0000303,
    'uv'=>0.0000292,
    'dt'=>0.000029,
    'hd'=>0.0000286,
    'aa'=>0.0000283,
    'xx'=>0.000028,
    'df'=>0.0000278,
    'db'=>0.0000277,
    'ji'=>0.0000276,
    'kr'=>0.0000272,
    'xo'=>0.000027,
    'cm'=>0.0000267,
    'zz'=>0.0000266,
    'nx'=>0.0000262,
    'yg'=>0.0000259,
    'xy'=>0.0000258,
    'kg'=>0.0000256,
    'tb'=>0.0000254,
    'dc'=>0.0000252,
    'bd'=>0.0000247,
    'sg'=>0.0000247,
    'wy'=>0.0000242,
    'zy'=>0.0000236,
    'aq'=>0.0000224,
    'hf'=>0.0000224,
    'cd'=>0.0000223,
    'vu'=>0.0000221,
    'kw'=>0.0000218,
    'zu'=>0.0000215,
    'bn'=>0.0000209,
    'ih'=>0.0000209,
    'tg'=>0.0000197,
    'xv'=>0.0000195,
    'uz'=>0.0000191,
    'bc'=>0.0000189,
    'xf'=>0.0000186,
    'yz'=>0.0000181,
    'km'=>0.0000179,
    'dp'=>0.0000173,
    'lh'=>0.0000162,
    'wf'=>0.0000161,
    'kf'=>0.0000159,
    'pf'=>0.0000145,
    'cf'=>0.0000141,
    'mt'=>0.0000137,
    'yu'=>0.0000133,
    'cp'=>0.0000131,
    'pb'=>0.0000131,
    'td'=>0.000013,
    'zl'=>0.0000126,
    'sv'=>0.0000124,
    'hc'=>0.0000123,
    'mg'=>0.0000122,
    'pw'=>0.0000121,
    'gf'=>0.000012,
    'pd'=>0.000012,
    'pn'=>0.0000119,
    'pc'=>0.0000118,
    'rx'=>0.0000117,
    'tv'=>0.0000116,
    'ij'=>0.0000111,
    'wm'=>0.0000109,
    'uh'=>0.0000107,
    'wk'=>0.0000107,
    'wb'=>0.0000106,
    'bh'=>0.0000106,
    'oq'=>0.0000104,
    'kt'=>0.0000103,
    'rq'=>0.00001,
    'kb'=>0.000009,
    'cg'=>0.0000089,
    'vr'=>0.0000088,
    'cn'=>0.0000086,
    'pk'=>0.0000082,
    'uu'=>0.0000078,
    'yf'=>0.0000075,
    'wp'=>0.0000074,
    'cz'=>0.0000073,
    'kp'=>0.0000073,
    'dq'=>0.0000071,
    'wu'=>0.000007,
    'fm'=>0.0000069,
    'wc'=>0.0000067,
    'md'=>0.0000067,
    'kd'=>0.0000067,
    'zh'=>0.0000067,
    'gw'=>0.0000065,
    'rz'=>0.0000064,
    'cb'=>0.0000063,
    'iw'=>0.0000062,
    'xl'=>0.0000059,
    'hp'=>0.0000059,
    'mw'=>0.0000058,
    'vs'=>0.0000058,
    'fc'=>0.0000058,
    'rj'=>0.0000055,
    'bp'=>0.0000055,
    'mh'=>0.0000053,
    'hh'=>0.0000052,
    'yh'=>0.0000052,
    'uj'=>0.0000052,
    'fg'=>0.0000051,
    'fd'=>0.000005,
    'gb'=>0.0000049,
    'pg'=>0.0000047,
    'tk'=>0.0000046,
    'kk'=>0.0000045,
    'hq'=>0.0000042,
    'fn'=>0.0000042,
    'lz'=>0.0000042,
    'vl'=>0.0000041,
    'gp'=>0.0000041,
    'hz'=>0.0000038,
    'dk'=>0.0000034,
    'yk'=>0.0000033,
    'qi'=>0.0000032,
    'lx'=>0.0000031,
    'vd'=>0.000003,
    'zs'=>0.000003,
    'bw'=>0.000003,
    'xq'=>0.0000029,
    'mv'=>0.0000029,
    'uw'=>0.0000028,
    'hg'=>0.0000028,
    'fb'=>0.0000027,
    'sj'=>0.0000027,
    'ww'=>0.0000026,
    'gk'=>0.0000026,
    'uq'=>0.0000026,
    'bg'=>0.0000026,
    'sz'=>0.0000025,
    'jr'=>0.0000024,
    'ql'=>0.0000024,
    'zt'=>0.0000024,
    'hk'=>0.0000023,
    'vc'=>0.0000023,
    'xm'=>0.0000023,
    'gc'=>0.0000023,
    'fw'=>0.0000023,
    'pz'=>0.0000023,
    'kc'=>0.0000022,
    'hv'=>0.0000022,
    'xw'=>0.0000022,
    'zw'=>0.0000022,
    'fp'=>0.0000022,
    'iy'=>0.0000022,
    'pv'=>0.0000022,
    'vt'=>0.0000022,
    'jp'=>0.0000022,
    'cv'=>0.0000021,
    'zb'=>0.0000021,
    'vp'=>0.000002,
    'zr'=>0.0000019,
    'fh'=>0.0000018,
    'yv'=>0.0000018,
    'zg'=>0.0000017,
    'zm'=>0.0000017,
    'zv'=>0.0000016,
    'qs'=>0.0000016,
    'kv'=>0.0000016,
    'vn'=>0.0000015,
    'zn'=>0.0000015,
    'qa'=>0.0000015,
    'yx'=>0.0000015,
    'jn'=>0.0000015,
    'bf'=>0.0000015,
    'mk'=>0.0000014,
    'cw'=>0.0000014,
    'jm'=>0.0000013,
    'lq'=>0.0000013,
    'jh'=>0.0000013,
    'kj'=>0.0000012,
    'jc'=>0.0000012,
    'gz'=>0.0000012,
    'js'=>0.0000012,
    'tx'=>0.0000012,
    'fk'=>0.0000012,
    'jl'=>0.0000011,
    'vm'=>0.0000011,
    'lj'=>0.0000011,
    'tj'=>0.0000011,
    'jj'=>0.0000011,
    'cj'=>0.0000011,
    'vg'=>0.000001,
    'mj'=>0.000001,
    'jt'=>0.000001,
    'pj'=>0.000001,
    'wg'=>0.000001,
    'vh'=>0.000001,
    'bk'=>0.0000009,
    'vv'=>0.0000009,
    'jd'=>0.0000009,
    'tq'=>0.0000009,
    'vb'=>0.0000009,
    'jf'=>0.0000009,
    'dz'=>0.0000008,
    'xb'=>0.0000008,
    'jb'=>0.0000008,
    'zc'=>0.0000007,
    'fj'=>0.0000007,
    'yy'=>0.0000007,
    'qn'=>0.0000007,
    'xs'=>0.0000006,
    'qr'=>0.0000006,
    'jk'=>0.0000006,
    'jv'=>0.0000006,
    'qq'=>0.0000006,
    'xn'=>0.0000006,
    'vf'=>0.0000005,
    'px'=>0.0000005,
    'zd'=>0.0000005,
    'qt'=>0.0000005,
    'zp'=>0.0000005,
    'qo'=>0.0000005,
    'dx'=>0.0000005,
    'hj'=>0.0000005,
    'gv'=>0.0000004,
    'jw'=>0.0000004,
    'qc'=>0.0000004,
    'jy'=>0.0000004,
    'gj'=>0.0000004,
    'qb'=>0.0000004,
    'pq'=>0.0000004,
    'jg'=>0.0000004,
    'bz'=>0.0000004,
    'mx'=>0.0000004,
    'qm'=>0.0000004,
    'mz'=>0.0000003,
    'qf'=>0.0000003,
    'wj'=>0.0000003,
    'zq'=>0.0000003,
    'xr'=>0.0000003,
    'zk'=>0.0000003,
    'cx'=>0.0000003,
    'fx'=>0.0000003,
    'fv'=>0.0000003,
    'bx'=>0.0000003,
    'vw'=>0.0000003,
    'vj'=>0.0000003,
    'mq'=>0.0000003,
    'qv'=>0.0000002,
    'zf'=>0.0000002,
    'qe'=>0.0000002,
    'yj'=>0.0000002,
    'gx'=>0.0000002,
    'kx'=>0.0000002,
    'xg'=>0.0000002,
    'qd'=>0.0000002,
    'xj'=>0.0000002,
    'sx'=>0.0000002,
    'vz'=>0.0000002,
    'vx'=>0.0000002,
    'wv'=>0.0000001,
    'yq'=>0.0000001,
    'bq'=>0.0000001,
    'gq'=>0.0000001,
    'vk'=>0.0000001,
    'zj'=>0.0000001,
    'xk'=>0.0000001,
    'qp'=>0.0000001,
    'hx'=>0.0000001,
    'fz'=>0.0000001,
    'qh'=>0.0000001,
    'qj'=>0.0000001,
    'jz'=>0.0000001,
    'vq'=>0.0000001,
    'kq'=>0.0000001,
    'xd'=>0.0000001,
    'qw'=>0.0000001,
    'jx'=>0.0000001,
    'qx'=>0.0000001,
    'kz'=>0.0000001,
    'wx'=>0.0000001,
    'fq'=>0.0000001,
    'xz'=>0,
    'zx'=>0,
    'jq'=>0,
    'qg'=>0,
    'qk'=>0,
    'qy'=>0,
    'qz'=>0,
    'wq'=>0,
    'wz'=>0
  }

  DIGRAM_MATRIX_ENGLISH = [
    #  e      t      a      o      i      n      s      r      h      l      d      c      u      m      f      p      g      w      y      b      v      k      x      j      q      z
    [0.378, 0.413, 0.688, 0.073, 0.183, 1.454, 1.339, 2.048, 0.026, 0.530, 1.168, 0.477, 0.031, 0.374, 0.163, 0.172, 0.120, 0.117, 0.144, 0.027, 0.255, 0.016, 0.214, 0.005, 0.057, 0.005],
    [1.205, 0.171, 0.530, 1.041, 1.343, 0.010, 0.337, 0.426, 3.556, 0.098, 0.001, 0.026, 0.255, 0.026, 0.006, 0.004, 0.002, 0.082, 0.227, 0.003, 0.001, 0.000, 0.000, 0.000, 0.000, 0.004],
    [0.012, 1.487, 0.003, 0.005, 0.316, 1.985, 0.871, 1.075, 0.014, 1.087, 0.368, 0.448, 0.119, 0.285, 0.074, 0.203, 0.205, 0.060, 0.217, 0.230, 0.205, 0.105, 0.019, 0.012, 0.002, 0.012],
    [0.039, 0.442, 0.057, 0.210, 0.088, 1.758, 0.290, 1.277, 0.021, 0.365, 0.195, 0.166, 0.870, 0.546, 1.175, 0.224, 0.094, 0.330, 0.036, 0.097, 0.178, 0.064, 0.019, 0.007, 0.001, 0.003],
    [0.385, 1.123, 0.286, 0.835, 0.023, 2.433, 1.128, 0.315, 0.002, 0.432, 0.296, 0.699, 0.017, 0.318, 0.203, 0.089, 0.255, 0.001, 0.000, 0.099, 0.288, 0.043, 0.022, 0.001, 0.011, 0.064],
    [0.692, 1.041, 0.347, 0.465, 0.339, 0.073, 0.509, 0.009, 0.011, 0.064, 1.352, 0.416, 0.079, 0.028, 0.067, 0.006, 0.953, 0.006, 0.098, 0.004, 0.052, 0.052, 0.003, 0.011, 0.006, 0.004],
    [0.932, 1.053, 0.218, 0.398, 0.550, 0.009, 0.405, 0.006, 0.315, 0.056, 0.005, 0.155, 0.311, 0.065, 0.017, 0.191, 0.002, 0.024, 0.057, 0.008, 0.001, 0.039, 0.000, 0.000, 0.007, 0.000],
    [1.854, 0.362, 0.686, 0.727, 0.728, 0.160, 0.397, 0.121, 0.015, 0.086, 0.189, 0.121, 0.128, 0.175, 0.032, 0.042, 0.100, 0.013, 0.248, 0.027, 0.069, 0.097, 0.001, 0.001, 0.001, 0.001],
    [3.075, 0.130, 0.926, 0.485, 0.763, 0.026, 0.015, 0.084, 0.001, 0.013, 0.003, 0.001, 0.074, 0.013, 0.002, 0.001, 0.000, 0.005, 0.050, 0.004, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.829, 0.124, 0.528, 0.387, 0.624, 0.006, 0.142, 0.010, 0.002, 0.577, 0.253, 0.012, 0.135, 0.023, 0.053, 0.019, 0.006, 0.013, 0.425, 0.007, 0.035, 0.020, 0.000, 0.000, 0.000, 0.000],
    [0.765, 0.003, 0.151, 0.188, 0.493, 0.008, 0.126, 0.085, 0.005, 0.032, 0.043, 0.003, 0.148, 0.018, 0.003, 0.002, 0.031, 0.008, 0.050, 0.003, 0.019, 0.000, 0.000, 0.005, 0.001, 0.000],
    [0.651, 0.461, 0.538, 0.794, 0.281, 0.001, 0.023, 0.149, 0.598, 0.149, 0.002, 0.083, 0.163, 0.003, 0.001, 0.001, 0.001, 0.000, 0.042, 0.001, 0.000, 0.118, 0.000, 0.000, 0.005, 0.001],
    [0.147, 0.405, 0.136, 0.011, 0.101, 0.394, 0.454, 0.543, 0.001, 0.346, 0.091, 0.188, 0.001, 0.138, 0.019, 0.136, 0.128, 0.000, 0.005, 0.089, 0.003, 0.005, 0.004, 0.001, 0.000, 0.002],
    [0.793, 0.001, 0.565, 0.337, 0.318, 0.009, 0.093, 0.003, 0.001, 0.005, 0.001, 0.004, 0.115, 0.096, 0.004, 0.239, 0.001, 0.001, 0.062, 0.090, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.237, 0.082, 0.164, 0.488, 0.285, 0.000, 0.006, 0.213, 0.000, 0.065, 0.000, 0.001, 0.096, 0.001, 0.146, 0.000, 0.001, 0.000, 0.009, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.478, 0.106, 0.324, 0.361, 0.123, 0.001, 0.055, 0.474, 0.094, 0.263, 0.001, 0.001, 0.105, 0.016, 0.001, 0.137, 0.000, 0.001, 0.012, 0.001, 0.000, 0.001, 0.000, 0.000, 0.000, 0.000],
    [0.385, 0.015, 0.148, 0.132, 0.152, 0.066, 0.051, 0.197, 0.228, 0.061, 0.003, 0.000, 0.086, 0.010, 0.001, 0.000, 0.025, 0.001, 0.026, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.361, 0.007, 0.385, 0.222, 0.374, 0.079, 0.035, 0.031, 0.379, 0.015, 0.004, 0.001, 0.001, 0.001, 0.002, 0.001, 0.000, 0.000, 0.002, 0.001, 0.000, 0.001, 0.000, 0.000, 0.000, 0.000],
    [0.093, 0.017, 0.016, 0.150, 0.029, 0.013, 0.097, 0.008, 0.001, 0.015, 0.007, 0.014, 0.001, 0.024, 0.001, 0.025, 0.003, 0.003, 0.000, 0.004, 0.000, 0.000, 0.000, 0.000, 0.000, 0.002],
    [0.576, 0.017, 0.146, 0.195, 0.107, 0.002, 0.046, 0.112, 0.001, 0.233, 0.002, 0.002, 0.185, 0.003, 0.000, 0.001, 0.000, 0.000, 0.176, 0.011, 0.004, 0.000, 0.000, 0.023, 0.000, 0.000],
    [0.825, 0.000, 0.140, 0.071, 0.270, 0.000, 0.001, 0.001, 0.000, 0.000, 0.000, 0.000, 0.002, 0.000, 0.000, 0.000, 0.000, 0.000, 0.005, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.214, 0.001, 0.017, 0.006, 0.098, 0.051, 0.048, 0.003, 0.003, 0.011, 0.001, 0.000, 0.003, 0.002, 0.002, 0.001, 0.003, 0.002, 0.006, 0.001, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.022, 0.047, 0.030, 0.003, 0.039, 0.000, 0.000, 0.000, 0.004, 0.001, 0.000, 0.026, 0.005, 0.000, 0.002, 0.067, 0.000, 0.000, 0.003, 0.000, 0.002, 0.000, 0.003, 0.000, 0.000, 0.000],
    [0.052, 0.000, 0.026, 0.054, 0.003, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.059, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.148, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000],
    [0.050, 0.000, 0.025, 0.007, 0.012, 0.000, 0.000, 0.000, 0.001, 0.001, 0.000, 0.000, 0.002, 0.000, 0.000, 0.000, 0.000, 0.000, 0.002, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.003],
  ]
end